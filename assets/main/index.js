System.register("chunks:///_virtual/AutoComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,u;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,u=o.Component}],execute:function(){var r;n._RF.push({},"88485c0TKdIeaNRVnuDOI0f","AutoComponent",void 0);var i=e.ccclass;e.property,o("AutoComponent",i("AutoComponent")(r=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.resetInEditor=function(o){this.LoadComponent(),this.SetValue()},e.onLoad=function(){this.LoadComponent(),this.SetValue()},e.LoadComponent=function(){},e.SetValue=function(){},n}(u))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ball.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./AutoComponent.ts","./SpawnsBall.ts","./GameplayManager.ts"],(function(t){var e,n,i,o,a,l,r,c,s,u,d,p,g,f,h,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.Enum,c=t.Collider2D,s=t.RigidBody2D,u=t.ERigidBody2DType,d=t.Contact2DType,p=t.Vec3,g=t.tween},function(t){f=t.BALL_ID},function(t){h=t.AutoComponent},function(t){y=t.SpawnsBall},function(t){m=t.GameplayManager}],execute:function(){var b,B,C,I,D,v,L,S,w,M,_,A;a._RF.push({},"fb199sb0JhI1IXZbnj7qU02","Ball",void 0);var z=l.ccclass,E=l.property,R=l.requireComponent;r(f);t("Ball",(b=z("Ball"),B=R([c,s]),C=E({type:f,tooltip:"id ball"}),I=E({type:f,tooltip:"id ball tao thanh"}),D=E(c),v=E(s),b(L=B((w=e((S=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"ballId",w,o(e)),i(e,"createID",M,o(e)),i(e,"collider",_,o(e)),i(e,"rigid",A,o(e)),e.canMerge=!0,e}n(e,t);var a=e.prototype;return a.LoadCollider=function(){null==this.collider&&(this.collider=this.node.getComponent(c))},a.LoadRigidBody=function(){null==this.rigid&&(this.rigid=this.node.getComponent(s))},a.SetValue=function(){this.rigid.gravityScale=5},a.LoadComponent=function(){this.LoadCollider(),this.LoadRigidBody()},a.SetDynamic=function(){this.rigid.type=u.Dynamic},a.start=function(){this.AddEvent()},a.AddEvent=function(){this.collider.on(d.BEGIN_CONTACT,this.OnBeginContact,this)},a.OnBeginContact=function(t,n,i){var o=this,a=n.node.getComponent(e);if(null!=a&&a.ballId==this.ballId&&0!=a.canMerge&&0!=this.canMerge){var l=t.node,r=n.node;l.uuid<r.uuid&&(this.canMerge=!1,a.canMerge=!1,this.scheduleOnce((function(){o.MergeBall(l,r)})))}},a.MergeBall=function(t,n){var i=this.createID,o=this.getMidPosition(t,n);setTimeout((function(){var t=y.getInstance().Ball_Name[i],n=y.getInstance().SpawnItem(t);n.setScale(new p(0,0,0)),n.position=o,m.getInstance().containerBalls.addChild(n),n.getComponent(e).SetDynamic(),n.getComponent(e).SetFXScale()}),0),t.destroy(),n.destroy()},a.getMidPosition=function(t,e){return new p((t.position.x+e.position.x)/2,(t.position.y+e.position.y)/2,(t.position.z+e.position.z)/2)},a.SetFXScale=function(){g(this.node).to(.1,{scale:new p(1,1,1)}).start()},e}(h)).prototype,"ballId",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.BALL_ID_0}}),M=e(S.prototype,"createID",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.BALL_ID_0}}),_=e(S.prototype,"collider",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(S.prototype,"rigid",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=S))||L)||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSingleton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoComponent.ts"],(function(t){var n,e,o,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.AutoComponent}],execute:function(){var i,c;e._RF.push({},"f4bbeFXw5xDtLGpE1xb3D2Q","BaseSingleton",void 0);var r=o.ccclass;o.property,t("BaseSingleton",r("BaseSingleton")(((c=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.getInstance=function(){return this._instance||(this._instance=new this),this._instance},e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var n=this.constructor;n._instance?this.node.destroy():n._instance=this},e}(s))._instance=null,i=c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSpawns.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseSingleton.ts"],(function(e){var n,t,a,r,i,o,s,c,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,c=e.instantiate},function(e){p=e.BaseSingleton}],execute:function(){var l,u,f,h,d,b,g,y,m;i._RF.push({},"29250Zav3VI3I5PoJyVMCkn","BaseSpawns",void 0);var w=o.ccclass,B=o.property;e("BaseSpawns",(l=w("BaseSpawns"),u=B({type:[s],group:{name:"BaseSpawns"},tooltip:"Danh sách prefab"}),f=B({type:s,group:{name:"BaseSpawns"},tooltip:"Node chứa các Node chưa đc sử dụng"}),h=B({type:[s],group:{name:"BaseSpawns"},tooltip:"Danh sách các Node chưa được sử dụng"}),l((g=n((b=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,a(n,"prefabs",g,r(n)),a(n,"container",y,r(n)),a(n,"pools",m,r(n)),n}t(n,e);var i=n.prototype;return i.LoadContainer=function(){null==this.container&&(this.container=this.node.getChildByName("Container"))},i.LoadPrefabs=function(){this.prefabs.length>0||(this.prefabs=this.node.getChildByName("Prefabs").children)},i.LoadComponent=function(){this.LoadContainer(),this.LoadPrefabs()},i.SpawnItem=function(e){var n=this.prefabs.find((function(n){return n.name===e}));if(null==n)return null;var t=c(n);return t.active=!0,t},n}(p)).prototype,"prefabs",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=n(b.prototype,"container",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(b.prototype,"pools",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=b))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Enum.ts",["cc"],(function(_){var L;return{setters:[function(_){L=_.cclegacy}],execute:function(){L._RF.push({},"b2a6drmLjZHm7ASxeq/nCxM","Enum",void 0);_("BALL_ID",function(_){return _[_.BALL_ID_0=0]="BALL_ID_0",_[_.BALL_ID_1=1]="BALL_ID_1",_[_.BALL_ID_2=2]="BALL_ID_2",_[_.BALL_ID_3=3]="BALL_ID_3",_[_.BALL_ID_4=4]="BALL_ID_4",_[_.BALL_ID_5=5]="BALL_ID_5",_[_.BALL_ID_6=6]="BALL_ID_6",_[_.BALL_ID_7=7]="BALL_ID_7",_}({}));L._RF.pop()}}}));

System.register("chunks:///_virtual/FollowTarget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoComponent.ts"],(function(t){var e,r,o,i,n,a,l,u,s,c,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,l=t._decorator,u=t.Node,s=t.CCInteger,c=t.CCBoolean,p=t.Vec3},function(t){g=t.AutoComponent}],execute:function(){var f,d,h,w,y,b,F,v,T;a._RF.push({},"0dc7baljvFC+aW87lzipKK9","FollowTarget",void 0);var m=l.ccclass,C=l.property;t("FollowTarget",(f=m("FollowTarget"),d=C({type:u,group:{name:"FollowTarget"}}),h=C({type:s,visible:function(){return this.isLerp},group:{name:"FollowTarget"}}),w=C({type:c,group:{name:"FollowTarget"}}),f((F=e((b=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"target",F,i(e)),o(e,"duration",v,i(e)),o(e,"isLerp",T,i(e)),e}r(e,t);var a=e.prototype;return a.update=function(t){this.FollowTarget(t)},a.FollowTarget=function(t){if(null!=this.target){var e=this.target.worldPosition.clone();1==this.isLerp&&p.lerp(e,this.node.worldPosition,e,this.duration*t),this.node.worldPosition=e}},n(e,[{key:"targetNode",set:function(t){t!==this.target&&(this.target=t)}}]),e}(g)).prototype,"target",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(b.prototype,"duration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=e(b.prototype,"isLerp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=b))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LineBall.ts","./BaseSingleton.ts","./SpawnsBall.ts","./Ball.ts"],(function(t){var n,l,e,a,i,r,o,s,u,c,h,B,p,d,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,l=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,o=t.Node,s=t.find,u=t.director,c=t.Vec3,h=t.UITransform},function(t){B=t.LineBall},function(t){p=t.BaseSingleton},function(t){d=t.SpawnsBall},function(t){f=t.Ball}],execute:function(){var g,C,b,y,S,m,v,L,w;i._RF.push({},"cfeb34/nNFFl6A9hOWBX7Jd","GameplayManager",void 0);var N=r.ccclass,I=r.property;t("GameplayManager",(g=N("Gameplay"),C=I({type:B}),b=I({type:o,tooltip:"Node chua Bong"}),y=I({type:o,tooltip:"node ay vi tri ban dau tha roi qua bong"}),g((v=n((m=function(t){function n(){for(var n,l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,e(n,"lineBall",v,a(n)),e(n,"containerBalls",L,a(n)),e(n,"nodeStartBall",w,a(n)),n.ballCurrent=null,n}l(n,t);var i=n.prototype;return i.LoadLineBall=function(){null==this.lineBall&&(this.lineBall=s("Canvas").getComponentInChildren(B))},i.LoadContainerBall=function(){null==this.containerBalls&&(this.containerBalls=s("Canvas/BallsContainer"))},i.LoadNodeStartBall=function(){null==this.nodeStartBall&&(this.nodeStartBall=this.containerBalls.getChildByName("NodeStartBall"))},i.LoadComponent=function(){this.LoadLineBall(),this.LoadContainerBall(),this.LoadNodeStartBall()},i.start=function(){this.RegisterEvent(),this.SpawmBall()},i.SpawmBall=function(){var t=d.getInstance().GetRandomBall(3),n=d.getInstance().SpawnItem(t);this.containerBalls.addChild(n),n.setPosition(this.nodeStartBall.position.clone()),this.ballCurrent=n,this.lineBall.SetTarget(this.ballCurrent)},i.RegisterEvent=function(){u.on("MOVE",this.MoveBallCurrent,this),u.on("END",this.EndBallCurrent,this)},i.MoveBallCurrent=function(t){if(null!=this.ballCurrent){var n=new c(t.getUILocation().x,t.getUILocation().y,0),l=this.containerBalls.getComponent(h).convertToNodeSpaceAR(n);this.ballCurrent&&this.ballCurrent.setPosition(new c(l.x,this.nodeStartBall.position.y))}},i.EndBallCurrent=function(t){var n=this;null!=this.ballCurrent&&(this.ballCurrent.getComponent(f).SetDynamic(),this.ballCurrent=null,this.lineBall.SetTarget(this.ballCurrent),this.scheduleOnce((function(){n.SpawmBall()}),1))},n}(p)).prototype,"lineBall",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(m.prototype,"containerBalls",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(m.prototype,"nodeStartBall",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=m))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseSingleton.ts"],(function(n){var t,e,o,i,r,u;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.Node,r=n.director},function(n){u=n.BaseSingleton}],execute:function(){var c;e._RF.push({},"a1e77lWJFBJ5IFpb7Qkz6r7","InputManager",void 0);var s=o.ccclass;o.property,n("InputManager",s("InputManager")(c=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.start=function(){this.AddEvent()},o.AddEvent=function(){this.node.on(i.EventType.TOUCH_START,this.OnTouchStart,this),this.node.on(i.EventType.TOUCH_MOVE,this.OnTouchMove,this),this.node.on(i.EventType.TOUCH_END,this.OnTouchEnd,this)},o.OnTouchStart=function(n){},o.OnTouchMove=function(n){r.emit("MOVE",n)},o.OnTouchEnd=function(n){r.emit("END",n)},o.registerMoveHandler=function(){},e}(u))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/LineBall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RaycastFromNode.ts"],(function(t){var e,i,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator,n=t.Color},function(t){o=t.RaycastFromNode}],execute:function(){var c;i._RF.push({},"8f724RwflpDlacuZIrL7ND6","LineBall",void 0);var l=r.ccclass;r.property,t("LineBall",l("LineBall")(c=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var r=i.prototype;return r.SetValue=function(){this.SetValueGraphic()},r.SetValueGraphic=function(){this.graphic.lineWidth=10,this.graphic.fillColor=new n(255,0,0,255)},i}(o))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AutoComponent.ts","./BaseSingleton.ts","./Enum.ts","./GameplayManager.ts","./InputManager.ts","./Ball.ts","./LineBall.ts","./BaseSpawns.ts","./SpawnsBall.ts","./FollowTarget.ts","./RaycastFromNode.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/RaycastFromNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoComponent.ts"],(function(t){var e,i,r,o,n,a,c,s,p,h,l,u,d,y,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,c=t.Graphics,s=t.Node,p=t.Vec2,h=t.CCFloat,l=t.PhysicsSystem2D,u=t.ERaycast2DType,d=t.UITransform,y=t.Vec3},function(t){f=t.AutoComponent}],execute:function(){var g,m,w,b,v,x,N,R,C,D,T,F;n._RF.push({},"8775elJFbdHTYfLg95kovan","RaycastFromNode",void 0);var z=a.ccclass,L=a.property,A=a.requireComponent;t("RaycastFromNode",(g=z("RaycastFromNode"),m=A([c]),w=L(s),b=L(p),v=L(h),x=L(c),g(N=m((C=e((R=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"startNode",C,o(e)),r(e,"direction",D,o(e)),r(e,"maxDistance",T,o(e)),r(e,"graphic",F,o(e)),e}i(e,t);var n=e.prototype;return n.LoadGraphic=function(){null==this.graphic&&(this.graphic=this.node.getComponent(c))},n.LoadComponent=function(){this.LoadGraphic()},n.castRay=function(){if(this.startNode){var t=new p(this.startNode.worldPosition.x,this.startNode.worldPosition.y),e=new p(t.x+this.direction.x*this.maxDistance,t.y+this.direction.y*this.maxDistance),i=l.instance.raycast(t,e,u.Closest);if(i.length>0){var r=i[0].point,o=new p(r.x,r.y);this.graphic&&this.drawRay(t,o)}}else this.graphic.clear()},n.update=function(t){this.castRay()},n.drawRay=function(t,e){if(this.graphic){this.graphic.clear();var i=this.graphic.node.getComponent(d).convertToNodeSpaceAR(new y(t.x,t.y,0)),r=this.graphic.node.getComponent(d).convertToNodeSpaceAR(new y(e.x,e.y,0));this.graphic.moveTo(i.x,i.y),this.graphic.lineTo(r.x,r.y),this.graphic.stroke()}},n.SetTarget=function(t){this.startNode=t},e}(f)).prototype,"startNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(R.prototype,"direction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(0,-1)}}),T=e(R.prototype,"maxDistance",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),F=e(R.prototype,"graphic",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=R))||N)||N));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpawnsBall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseSpawns.ts"],(function(a){var l,n,t,e,r;return{setters:[function(a){l=a.inheritsLoose},function(a){n=a.cclegacy,t=a._decorator,e=a.randomRangeInt},function(a){r=a.BaseSpawns}],execute:function(){var s;n._RF.push({},"d7f83Q+27ZOg7SnayNXfOfM","SpawnsBall",void 0);var o=t.ccclass;t.property,a("SpawnsBall",o("SpawnsBall")(s=function(a){function n(){for(var l,n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return(l=a.call.apply(a,[this].concat(t))||this).Ball_Name=["Ball0","Ball1","Ball2","Ball3","Ball4","Ball5","Ball6","Ball7"],l}return l(n,a),n.prototype.GetRandomBall=function(a){return this.Ball_Name[e(0,a)]},n}(r))||s);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});